{"ast":null,"code":"var _jsxFileName = \"/Users/danielrad/Desktop/QZ/Coding/Facultate/PS/StackUnderflow/frontend/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { Container, Row, Col, Button, Form, Card } from 'react-bootstrap';\nimport QuestionCard from '../components/QuestionCard';\nimport { questionService, tagService } from '../services/api';\nimport { AuthContext } from '../services/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [questions, setQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filter, setFilter] = useState('newest');\n  const {\n    isAuthenticated\n  } = useContext(AuthContext);\n  const location = useLocation();\n  const {\n    tagName\n  } = useParams();\n  const searchQuery = new URLSearchParams(location.search).get('search');\n  useEffect(() => {\n    const fetchQuestions = async () => {\n      setLoading(true);\n      try {\n        console.log(\"Fetching questions with params:\", {\n          searchQuery,\n          tagName\n        });\n        let response;\n        if (searchQuery) {\n          response = await questionService.searchQuestions(searchQuery);\n        } else if (tagName) {\n          // Tag URL changed from /tags/:tagName to /tag/name/:tagName\n          response = await questionService.getQuestionsByTag(tagName);\n        } else {\n          response = await questionService.getAllQuestions();\n        }\n        console.log(\"Questions response:\", response);\n\n        // Ensure we have an array of questions\n        const questionsData = response.data || [];\n        console.log(\"Questions data:\", questionsData);\n\n        // Sort questions based on filter\n        let sortedData = [...questionsData];\n        if (filter === 'newest') {\n          sortedData.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n        } else if (filter === 'votes') {\n          sortedData.sort((a, b) => b.votes - a.votes);\n        } else if (filter === 'answers') {\n          sortedData.sort((a, b) => (b.answersCount || 0) - (a.answersCount || 0));\n        }\n        setQuestions(sortedData);\n        setError(null);\n      } catch (err) {\n        console.error('Error details:', err.response || err);\n        setError('Failed to load questions. Please try again later.');\n        console.error('Error fetching questions:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchQuestions();\n  }, [searchQuery, tagName, filter]);\n\n  // Display a hero section for new/non-authenticated users\n  const renderHero = () => {\n    if (searchQuery || tagName || isAuthenticated) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-primary text-white rounded-lg p-5 mb-5 shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 7,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"display-4 fw-bold mb-4\",\n            children: \"Welcome to StackUnderflow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead mb-4\",\n            children: \"The community-driven Q&A platform for developers. Ask questions, share knowledge, and build your programming career.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              as: Link,\n              to: \"/register\",\n              variant: \"light\",\n              size: \"lg\",\n              className: \"px-4 rounded-pill fw-bold\",\n              children: \"Join Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              as: Link,\n              to: \"/ask\",\n              variant: \"outline-light\",\n              size: \"lg\",\n              className: \"px-4 rounded-pill\",\n              children: \"Ask a Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 5,\n          className: \"d-none d-md-block text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"240\",\n            height: \"240\",\n            fill: \"currentColor\",\n            className: \"bi bi-stack\",\n            viewBox: \"0 0 16 16\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [renderHero(), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border-0 shadow-sm mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"bg-white py-3 d-flex justify-content-between align-items-center flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h4 mb-0\",\n          children: searchQuery ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-search me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this), \"Search Results for \\\"\", searchQuery, \"\\\"\"]\n          }, void 0, true) : tagName ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-tag me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 21\n            }, this), \"Questions tagged [\", tagName, \"]\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-question-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 21\n            }, this), \"All Questions\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          as: Link,\n          to: \"/ask\",\n          variant: \"primary\",\n          className: \"rounded-pill px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-plus-circle me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), \"Ask Question\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-light border-bottom d-flex justify-content-between align-items-center flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fw-bold\",\n              children: questions.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), \" questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: filter,\n            onChange: e => setFilter(e.target.value),\n            style: {\n              width: 'auto'\n            },\n            className: \"border-0 bg-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"newest\",\n              children: \"Newest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"votes\",\n              children: \"Most Votes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"answers\",\n              children: \"Most Answers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3 text-muted\",\n            children: \"Loading questions...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger m-3\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this) : questions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search display-4 d-block mb-3 text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted mb-4\",\n            children: \"No questions found.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            as: Link,\n            to: \"/ask\",\n            variant: \"primary\",\n            className: \"rounded-pill px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-plus-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), \"Ask a Question\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-list\",\n          children: questions.map(question => /*#__PURE__*/_jsxDEV(QuestionCard, {\n            question: question\n          }, question.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"V+gh7V/6/LJU3fVyLiXsmchQaQ0=\", false, function () {\n  return [useLocation, useParams];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","useLocation","useParams","Container","Row","Col","Button","Form","Card","QuestionCard","questionService","tagService","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","_s","questions","setQuestions","loading","setLoading","error","setError","filter","setFilter","isAuthenticated","location","tagName","searchQuery","URLSearchParams","search","get","fetchQuestions","console","log","response","searchQuestions","getQuestionsByTag","getAllQuestions","questionsData","data","sortedData","sort","a","b","Date","createdAt","votes","answersCount","err","renderHero","className","children","md","fileName","_jsxFileName","lineNumber","columnNumber","as","to","variant","size","xmlns","width","height","fill","viewBox","d","Header","Body","length","Select","value","onChange","e","target","style","role","map","question","id","_c","$RefreshReg$"],"sources":["/Users/danielrad/Desktop/QZ/Coding/Facultate/PS/StackUnderflow/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { Container, Row, Col, Button, Form, Card } from 'react-bootstrap';\nimport QuestionCard from '../components/QuestionCard';\nimport { questionService, tagService } from '../services/api';\nimport { AuthContext } from '../services/AuthContext';\n\nconst HomePage = () => {\n  const [questions, setQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filter, setFilter] = useState('newest');\n  const { isAuthenticated } = useContext(AuthContext);\n  \n  const location = useLocation();\n  const { tagName } = useParams();\n  const searchQuery = new URLSearchParams(location.search).get('search');\n\n  useEffect(() => {\n    const fetchQuestions = async () => {\n      setLoading(true);\n      try {\n        console.log(\"Fetching questions with params:\", { searchQuery, tagName });\n        let response;\n        \n        if (searchQuery) {\n          response = await questionService.searchQuestions(searchQuery);\n        } else if (tagName) {\n          // Tag URL changed from /tags/:tagName to /tag/name/:tagName\n          response = await questionService.getQuestionsByTag(tagName);\n        } else {\n          response = await questionService.getAllQuestions();\n        }\n        \n        console.log(\"Questions response:\", response);\n        \n        // Ensure we have an array of questions\n        const questionsData = response.data || [];\n        console.log(\"Questions data:\", questionsData);\n        \n        // Sort questions based on filter\n        let sortedData = [...questionsData];\n        if (filter === 'newest') {\n          sortedData.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n        } else if (filter === 'votes') {\n          sortedData.sort((a, b) => b.votes - a.votes);\n        } else if (filter === 'answers') {\n          sortedData.sort((a, b) => (b.answersCount || 0) - (a.answersCount || 0));\n        }\n        \n        setQuestions(sortedData);\n        setError(null);\n      } catch (err) {\n        console.error('Error details:', err.response || err);\n        setError('Failed to load questions. Please try again later.');\n        console.error('Error fetching questions:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchQuestions();\n  }, [searchQuery, tagName, filter]);\n\n  // Display a hero section for new/non-authenticated users\n  const renderHero = () => {\n    if (searchQuery || tagName || isAuthenticated) return null;\n    \n    return (\n      <div className=\"bg-primary text-white rounded-lg p-5 mb-5 shadow-lg\">\n        <Row className=\"align-items-center\">\n          <Col md={7}>\n            <h1 className=\"display-4 fw-bold mb-4\">Welcome to StackUnderflow</h1>\n            <p className=\"lead mb-4\">\n              The community-driven Q&A platform for developers. Ask questions, share knowledge, and build your programming career.\n            </p>\n            <div className=\"d-flex gap-3\">\n              <Button \n                as={Link} \n                to=\"/register\" \n                variant=\"light\" \n                size=\"lg\" \n                className=\"px-4 rounded-pill fw-bold\"\n              >\n                Join Community\n              </Button>\n              <Button \n                as={Link} \n                to=\"/ask\" \n                variant=\"outline-light\" \n                size=\"lg\" \n                className=\"px-4 rounded-pill\"\n              >\n                Ask a Question\n              </Button>\n            </div>\n          </Col>\n          <Col md={5} className=\"d-none d-md-block text-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"240\" height=\"240\" fill=\"currentColor\" className=\"bi bi-stack\" viewBox=\"0 0 16 16\">\n              <path d=\"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z\"/>\n              <path d=\"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z\"/>\n            </svg>\n          </Col>\n        </Row>\n      </div>\n    );\n  };\n\n  return (\n    <Container>\n      {renderHero()}\n      \n      <Card className=\"border-0 shadow-sm mb-4\">\n        <Card.Header className=\"bg-white py-3 d-flex justify-content-between align-items-center flex-wrap\">\n          <h1 className=\"h4 mb-0\">\n            {searchQuery \n              ? <><i className=\"bi bi-search me-2\"></i>Search Results for \"{searchQuery}\"</> \n              : tagName \n                ? <><i className=\"bi bi-tag me-2\"></i>Questions tagged [{tagName}]</> \n                : <><i className=\"bi bi-question-circle me-2\"></i>All Questions</>}\n          </h1>\n          <Button as={Link} to=\"/ask\" variant=\"primary\" className=\"rounded-pill px-4\">\n            <i className=\"bi bi-plus-circle me-2\"></i>\n            Ask Question\n          </Button>\n        </Card.Header>\n        \n        <Card.Body className=\"p-0\">\n          <div className=\"p-3 bg-light border-bottom d-flex justify-content-between align-items-center flex-wrap\">\n            <div>\n              <span className=\"fw-bold\">{questions.length}</span> questions\n            </div>\n            <Form.Select \n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n              style={{ width: 'auto' }}\n              className=\"border-0 bg-light\"\n            >\n              <option value=\"newest\">Newest</option>\n              <option value=\"votes\">Most Votes</option>\n              <option value=\"answers\">Most Answers</option>\n            </Form.Select>\n          </div>\n\n          {loading ? (\n            <div className=\"text-center py-5\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n              <p className=\"mt-3 text-muted\">Loading questions...</p>\n            </div>\n          ) : error ? (\n            <div className=\"alert alert-danger m-3\">{error}</div>\n          ) : questions.length === 0 ? (\n            <div className=\"text-center py-5\">\n              <i className=\"bi bi-search display-4 d-block mb-3 text-muted\"></i>\n              <p className=\"text-muted mb-4\">No questions found.</p>\n              <Button as={Link} to=\"/ask\" variant=\"primary\" className=\"rounded-pill px-4\">\n                <i className=\"bi bi-plus-circle me-2\"></i>\n                Ask a Question\n              </Button>\n            </div>\n          ) : (\n            <div className=\"question-list\">\n              {questions.map(question => (\n                <QuestionCard key={question.id} question={question} />\n              ))}\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default HomePage; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,IAAI,EAAEC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAC/D,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,IAAI,QAAQ,iBAAiB;AACzE,OAAOC,YAAY,MAAM,4BAA4B;AACrD,SAASC,eAAe,EAAEC,UAAU,QAAQ,iBAAiB;AAC7D,SAASC,WAAW,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC4B,MAAM,EAAEC,SAAS,CAAC,GAAG7B,QAAQ,CAAC,QAAQ,CAAC;EAC9C,MAAM;IAAE8B;EAAgB,CAAC,GAAG5B,UAAU,CAACa,WAAW,CAAC;EAEnD,MAAMgB,QAAQ,GAAG3B,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAE4B;EAAQ,CAAC,GAAG3B,SAAS,CAAC,CAAC;EAC/B,MAAM4B,WAAW,GAAG,IAAIC,eAAe,CAACH,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,CAAC,QAAQ,CAAC;EAEtEnC,SAAS,CAAC,MAAM;IACd,MAAMoC,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjCZ,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACFa,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAE;UAAEN,WAAW;UAAED;QAAQ,CAAC,CAAC;QACxE,IAAIQ,QAAQ;QAEZ,IAAIP,WAAW,EAAE;UACfO,QAAQ,GAAG,MAAM3B,eAAe,CAAC4B,eAAe,CAACR,WAAW,CAAC;QAC/D,CAAC,MAAM,IAAID,OAAO,EAAE;UAClB;UACAQ,QAAQ,GAAG,MAAM3B,eAAe,CAAC6B,iBAAiB,CAACV,OAAO,CAAC;QAC7D,CAAC,MAAM;UACLQ,QAAQ,GAAG,MAAM3B,eAAe,CAAC8B,eAAe,CAAC,CAAC;QACpD;QAEAL,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEC,QAAQ,CAAC;;QAE5C;QACA,MAAMI,aAAa,GAAGJ,QAAQ,CAACK,IAAI,IAAI,EAAE;QACzCP,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEK,aAAa,CAAC;;QAE7C;QACA,IAAIE,UAAU,GAAG,CAAC,GAAGF,aAAa,CAAC;QACnC,IAAIhB,MAAM,KAAK,QAAQ,EAAE;UACvBkB,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC;QAC1E,CAAC,MAAM,IAAIvB,MAAM,KAAK,OAAO,EAAE;UAC7BkB,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACG,KAAK,GAAGJ,CAAC,CAACI,KAAK,CAAC;QAC9C,CAAC,MAAM,IAAIxB,MAAM,KAAK,SAAS,EAAE;UAC/BkB,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,CAACA,CAAC,CAACI,YAAY,IAAI,CAAC,KAAKL,CAAC,CAACK,YAAY,IAAI,CAAC,CAAC,CAAC;QAC1E;QAEA9B,YAAY,CAACuB,UAAU,CAAC;QACxBnB,QAAQ,CAAC,IAAI,CAAC;MAChB,CAAC,CAAC,OAAO2B,GAAG,EAAE;QACZhB,OAAO,CAACZ,KAAK,CAAC,gBAAgB,EAAE4B,GAAG,CAACd,QAAQ,IAAIc,GAAG,CAAC;QACpD3B,QAAQ,CAAC,mDAAmD,CAAC;QAC7DW,OAAO,CAACZ,KAAK,CAAC,2BAA2B,EAAE4B,GAAG,CAAC;MACjD,CAAC,SAAS;QACR7B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDY,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACJ,WAAW,EAAED,OAAO,EAAEJ,MAAM,CAAC,CAAC;;EAElC;EACA,MAAM2B,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAItB,WAAW,IAAID,OAAO,IAAIF,eAAe,EAAE,OAAO,IAAI;IAE1D,oBACEb,OAAA;MAAKuC,SAAS,EAAC,qDAAqD;MAAAC,QAAA,eAClExC,OAAA,CAACV,GAAG;QAACiD,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjCxC,OAAA,CAACT,GAAG;UAACkD,EAAE,EAAE,CAAE;UAAAD,QAAA,gBACTxC,OAAA;YAAIuC,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrE7C,OAAA;YAAGuC,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAEzB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ7C,OAAA;YAAKuC,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BxC,OAAA,CAACR,MAAM;cACLsD,EAAE,EAAE5D,IAAK;cACT6D,EAAE,EAAC,WAAW;cACdC,OAAO,EAAC,OAAO;cACfC,IAAI,EAAC,IAAI;cACTV,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EACtC;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT7C,OAAA,CAACR,MAAM;cACLsD,EAAE,EAAE5D,IAAK;cACT6D,EAAE,EAAC,MAAM;cACTC,OAAO,EAAC,eAAe;cACvBC,IAAI,EAAC,IAAI;cACTV,SAAS,EAAC,mBAAmB;cAAAC,QAAA,EAC9B;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN7C,OAAA,CAACT,GAAG;UAACkD,EAAE,EAAE,CAAE;UAACF,SAAS,EAAC,+BAA+B;UAAAC,QAAA,eACnDxC,OAAA;YAAKkD,KAAK,EAAC,4BAA4B;YAACC,KAAK,EAAC,KAAK;YAACC,MAAM,EAAC,KAAK;YAACC,IAAI,EAAC,cAAc;YAACd,SAAS,EAAC,aAAa;YAACe,OAAO,EAAC,WAAW;YAAAd,QAAA,gBAC9HxC,OAAA;cAAMuD,CAAC,EAAC;YAA0T;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC,CAAC,eACpU7C,OAAA;cAAMuD,CAAC,EAAC;YAA8K;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,oBACE7C,OAAA,CAACX,SAAS;IAAAmD,QAAA,GACPF,UAAU,CAAC,CAAC,eAEbtC,OAAA,CAACN,IAAI;MAAC6C,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACvCxC,OAAA,CAACN,IAAI,CAAC8D,MAAM;QAACjB,SAAS,EAAC,2EAA2E;QAAAC,QAAA,gBAChGxC,OAAA;UAAIuC,SAAS,EAAC,SAAS;UAAAC,QAAA,EACpBxB,WAAW,gBACRhB,OAAA,CAAAE,SAAA;YAAAsC,QAAA,gBAAExC,OAAA;cAAGuC,SAAS,EAAC;YAAmB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,yBAAoB,EAAC7B,WAAW,EAAC,IAAC;UAAA,eAAE,CAAC,GAC5ED,OAAO,gBACLf,OAAA,CAAAE,SAAA;YAAAsC,QAAA,gBAAExC,OAAA;cAAGuC,SAAS,EAAC;YAAgB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,sBAAkB,EAAC9B,OAAO,EAAC,GAAC;UAAA,eAAE,CAAC,gBACnEf,OAAA,CAAAE,SAAA;YAAAsC,QAAA,gBAAExC,OAAA;cAAGuC,SAAS,EAAC;YAA4B;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,iBAAa;UAAA,eAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACL7C,OAAA,CAACR,MAAM;UAACsD,EAAE,EAAE5D,IAAK;UAAC6D,EAAE,EAAC,MAAM;UAACC,OAAO,EAAC,SAAS;UAACT,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBACzExC,OAAA;YAAGuC,SAAS,EAAC;UAAwB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,gBAE5C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEd7C,OAAA,CAACN,IAAI,CAAC+D,IAAI;QAAClB,SAAS,EAAC,KAAK;QAAAC,QAAA,gBACxBxC,OAAA;UAAKuC,SAAS,EAAC,wFAAwF;UAAAC,QAAA,gBACrGxC,OAAA;YAAAwC,QAAA,gBACExC,OAAA;cAAMuC,SAAS,EAAC,SAAS;cAAAC,QAAA,EAAEnC,SAAS,CAACqD;YAAM;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,cACrD;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN7C,OAAA,CAACP,IAAI,CAACkE,MAAM;YACVC,KAAK,EAAEjD,MAAO;YACdkD,QAAQ,EAAGC,CAAC,IAAKlD,SAAS,CAACkD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAC3CI,KAAK,EAAE;cAAEb,KAAK,EAAE;YAAO,CAAE;YACzBZ,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAE7BxC,OAAA;cAAQ4D,KAAK,EAAC,QAAQ;cAAApB,QAAA,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtC7C,OAAA;cAAQ4D,KAAK,EAAC,OAAO;cAAApB,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzC7C,OAAA;cAAQ4D,KAAK,EAAC,SAAS;cAAApB,QAAA,EAAC;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC,EAELtC,OAAO,gBACNP,OAAA;UAAKuC,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BxC,OAAA;YAAKuC,SAAS,EAAC,6BAA6B;YAAC0B,IAAI,EAAC,QAAQ;YAAAzB,QAAA,eACxDxC,OAAA;cAAMuC,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,eACN7C,OAAA;YAAGuC,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAoB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,GACJpC,KAAK,gBACPT,OAAA;UAAKuC,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EAAE/B;QAAK;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,GACnDxC,SAAS,CAACqD,MAAM,KAAK,CAAC,gBACxB1D,OAAA;UAAKuC,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BxC,OAAA;YAAGuC,SAAS,EAAC;UAAgD;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClE7C,OAAA;YAAGuC,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACtD7C,OAAA,CAACR,MAAM;YAACsD,EAAE,EAAE5D,IAAK;YAAC6D,EAAE,EAAC,MAAM;YAACC,OAAO,EAAC,SAAS;YAACT,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBACzExC,OAAA;cAAGuC,SAAS,EAAC;YAAwB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,kBAE5C;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,gBAEN7C,OAAA;UAAKuC,SAAS,EAAC,eAAe;UAAAC,QAAA,EAC3BnC,SAAS,CAAC6D,GAAG,CAACC,QAAQ,iBACrBnE,OAAA,CAACL,YAAY;YAAmBwE,QAAQ,EAAEA;UAAS,GAAhCA,QAAQ,CAACC,EAAE;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuB,CACtD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB,CAAC;AAACzC,EAAA,CAtKID,QAAQ;EAAA,QAOKhB,WAAW,EACRC,SAAS;AAAA;AAAAiF,EAAA,GARzBlE,QAAQ;AAwKd,eAAeA,QAAQ;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}